# äº”åˆ†é’Ÿå…¥é—¨ä½¿ç”¨æ•™ç¨‹

> ç›®å‰æä¾›çš„å‡ ä¸ªpluginï¼Œä½¿ç”¨èµ·æ¥ä¸ªäººæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå€ŸåŠ©builderæ¨¡å¼ï¼Œä¸€ä¸ªä¸²ä¸²å®Œæˆæˆ‘ä»¬çš„ç›®æ ‡è°ƒç”¨

## 1.1 é…ç½®ç›¸å…³

ç›®å‰å‡ ä¸ªpluginï¼Œæœ‰å‡ ä¸ªæ˜¯éœ€è¦å®‰è£…å¤–éƒ¨ä¾èµ–ï¼Œå¹¶ä¸å±äºç®€å•çš„å¼€ç®±å³ç”¨ï¼Œå› æ­¤ä¼šç¨ç¨å¤æ‚ä¸€ç‚¹ï¼›å¯¹äºå¼€ç®±å³ç”¨çš„ï¼Œç›´æ¥mavenä¸­æ·»åŠ é…ç½®å³å¯

### a. pomé…ç½®

é¦–å…ˆæ‰“å¼€ä½ çš„é¡¹ç›®ï¼Œåœ¨pomæ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»“åº“

```xml
<repositories>
    <repository>
        <id>yihui-maven-repo</id>
        <url>https://raw.githubusercontent.com/liuyueyi/maven-repository/master/repository</url>
    </repository>
</repositories>
```

(å½“å‰ä¸»è¦æä¾›mavençš„å¼•å…¥æ–¹å¼ï¼Œå…¶ä»–å¦‚gradleè¿™å—ä¸å¤ªç†Ÿæ‚‰ï¼Œåˆ—å…¥åç»­åŠ å…¥è®¡åˆ’...)

æ ¹æ®éœ€æ±‚ï¼Œå¼•å…¥å¯¹åº”çš„pluginæ’ä»¶ï¼Œæœ€æ–°çš„ç‰ˆæœ¬å¯ä»¥åˆ°å³è¾¹æŸ¥çœ‹: [æ’ä»¶ä¸ç‰ˆæœ¬](/è¿­ä»£/æ›´æ–°æ—¥å¿—?id=æ’ä»¶ä¸ç‰ˆæœ¬)

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>xxx-plugin</artifactId>
    <version>x.x</version>
</dependency>
```

### b. phantomjså®‰è£…

ä½¿ç”¨`phantom-plugin`æ’ä»¶æ—¶ï¼Œè¯·å…ˆå®‰è£…phantomï¼Œä¸€ä¸ªå¯ä¾›å‚è€ƒçš„æ•™ç¨‹å¦‚ä¸‹

```bash
# 1. ä¸‹è½½

## mac ç³»ç»Ÿ
wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-macosx.zip


## linux ç³»ç»Ÿ
wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2

## windows ç³»ç»Ÿ
## å°±ä¸è¦ç©äº†ï¼Œæ²¡å•¥æ„æ€


# 2. è§£å‹

sudo su 
tar -jxvf phantomjs-2.1.1-linux-x86_64.tar.bz2

# å¦‚æœè§£å‹æŠ¥é”™ï¼Œåˆ™å®‰è£…ä¸‹é¢çš„
# yum -y install bzip2

# 3. å®‰è£…

## ç®€å•ç‚¹ï¼Œç§»åŠ¨åˆ°binç›®å½•ä¸‹

cp phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin

# 4. éªŒè¯æ˜¯å¦ok
phantomjs --version

# è¾“å‡ºç‰ˆæœ¬å·ï¼Œåˆ™è¡¨ç¤ºok
```

### c. ffmpegå®‰è£…

ä½¿ç”¨`audio-plugin`æ’ä»¶æ—¶ï¼Œè¯·å…ˆå®‰è£…ffmpegï¼Œä¸€ä¸ªå¯ä¾›å‚è€ƒçš„å®‰è£…æ•™ç¨‹å¦‚ä¸‹:

```bash
#!/bin/bash

## download ffmpge cmd
wget https://johnvansickle.com/ffmpeg/releases/ffmpeg-release-64bit-static.tar.xz


## exact package
xz -d ffmpeg-release-64bit-static.tar.xz
tar -xvf ffmpeg-release-64bit-static.tar
mv ffmpeg-release-64bit-static ffmpeg
cd ffmpeg
```

### d. imagemagicå®‰è£…

> è¿™ä¸ªç¯å¢ƒæ­å»ºä¼šç›¸å¯¹å¤æ‚ä¸€ç‚¹ï¼Œæ¨èä¸¤ç¯‡åšæ–‡å‚è€ƒ: 
> - [å›¾ç‰‡åˆæˆæ”¯æŒçš„å‰ä¸–ä»Šç”Ÿ/#a-ç¯å¢ƒå‡†å¤‡](https://blog.hhui.top/hexblog/2017/12/17/%E5%9B%BE%E7%89%87%E5%90%88%E6%88%90%E6%94%AF%E6%8C%81%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/#a-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87)
> - [Java å€ŸåŠ©ImageMagicå®ç°å›¾ç‰‡ç¼–è¾‘æœåŠ¡](https://blog.hhui.top/hexblog/2018/04/17/Java-%E5%80%9F%E5%8A%A9ImageMagic%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91%E6%9C%8D%E5%8A%A1/)

ä½¿ç”¨`imagemagic-plugin`æ’ä»¶æ—¶ï¼Œéœ€è¦å®‰è£…imagemagicï¼Œä¸€ä¸ªå¯ä¾›å‚è€ƒçš„å®‰è£…æ•™ç¨‹å¦‚ä¸‹:

> è¿™ä¸ªä¼šå¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºéœ€è¦è£…ä¸€ä¸‹æ’ä»¶

**macå®‰è£…å§¿åŠ¿**

```bash
yum install libjpeg-devel
yum install libpng-devel


# mac æœ¬åœ°ç¯å¢ƒæ­å»º
sudo brew install jpeg
sudo brew install libpng
sudo brew install GraphicsMagick
```

**linuxæºç å®‰è£…å§¿åŠ¿**

å…ˆä¸‹è½½æºç ï¼Œç„¶åè§£å‹ï¼Œè¿›å…¥ç›®å½•ï¼Œæ‰§è¡Œ `sudo ./configure; sudo make; sudo make install`

```bash
# å®‰è£…jpeg åŒ… 
wget ftp://223.202.54.10/pub/web/php/libjpeg-6b.tar.gz
# å®‰è£…webp åŒ… 
wget http://www.imagemagick.org/download/delegates/libwebp-0.5.1.tar.gz

# å®‰è£…png åŒ… 
wget http://www.imagemagick.org/download/delegates/libpng-1.6.24.tar.gz

# å®‰è£… graphicsmagick 
wget http://nchc.dl.sourceforge.net/project/graphicsmagick/graphicsmagick/1.3.22/GraphicsMagick-1.3.22.tar.gz

## ----------


# imagemagick å®‰è£…
wget http://www.imagemagick.org/download/ImageMagick.tar.gz


# å®‰è£…å‘½ä»¤  
sudo ./configure; sudo make; sudo make install
```

---

## 1.2 å¿«é€Ÿä½¿ç”¨

å‰é¢ç¯å¢ƒæ­å»ºå®Œæ¯•ï¼Œå°±å¯ä»¥ç›´æ¥è¿›å…¥ä½¿ç”¨ç¯èŠ‚ï¼Œä¸‹é¢æ¼”ç¤ºä¸‹å¿«é€Ÿä½¿ç”¨çš„åŸºç¡€ä½¿ç”¨å§¿åŠ¿ï¼Œå…³äºæ›´å¤šçš„ä½¿ç”¨å§¿åŠ¿åˆ°è¯¦æƒ…ä¸­æŸ¥çœ‹

### a. qrcode-plugin

> å¯¹äºäºŒç»´ç çš„ç”Ÿæˆï¼Œåœ¨zxingçš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¤§é‡çš„å®šåˆ¶ï¼Œç›®å‰å¯ä»¥å®ç°å„ç§é…·ç‚«çš„åŠŸèƒ½
>
> è¯·æŸ¥è¯¢æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæ›¿æ¢ä¸‹é¢çš„ä¾èµ–

**ä¾èµ–**

```xml
<groupId>com.github.hui.media</groupId>
<artifactId>qrcode-plugin</artifactId>
<version>1.2</version>
```

**ç”ŸæˆäºŒç»´ç **

äºŒç»´ç ç”Ÿæˆï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„ä½¿ç”¨å§¿åŠ¿

```java
String msg = "https://liuyueyi.github.io/hexblog/2018/03/23/mysqlä¹‹é”ä¸äº‹åŠ¡è¯¦è§£/";
try {
    boolean ans = QrCodeGenWrapper.of(msg).asFile("src/test/qrcode/gen.png");
    System.out.println(ans);
} catch (Exception e) {
    System.out.println("create qrcode error! e: " + e);
    Assert.assertTrue(false);
}
```

ä¸Šé¢æ‰§è¡Œä¹‹åï¼Œç”Ÿæˆä¸€å¼ 200x200 é»‘ç™½è‰²çš„äºŒç»´ç å›¾ç‰‡

![](https://raw.githubusercontent.com/liuyueyi/quick-media/master/plugins/qrcode-plugin/src/test/qrcode/gen.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„å‚æ•°è®¾ç½®ï¼Œè¾“å‡ºæ›´æ¼‚äº®çš„äºŒç»´ç å›¾ç‰‡ï¼Œæ¯”å¦‚è®²äºŒç»´ç ä¸­çš„æ‰€é»‘è‰²å°æ–¹å—ç”¨è‡ªå®šä¹‰çš„å›¾ç‰‡è¿›è¡Œæ›¿æ¢

```java
@Test
public void testGenJiheQrCode() {
    String msg = "http://weixin.qq.com/r/FS9waAPEg178rUcL93oH";

    int size = 500;
    try {
        String bg = "http://img11.hc360.cn/11/busin/109/955/b/11-109955021.jpg";

        BufferedImage img = QrCodeGenWrapper.of(msg)
                .setW(size)
                .setH(size)
                .setDetectImg("jihe/PDP.png")
                .setErrorCorrection(ErrorCorrectionLevel.H)
                .setDrawEnableScale(true)
                .setDrawStyle(QrCodeOptions.DrawStyle.IMAGE)
                .addImg(1, 1, "jihe/a.png")
                .addImg(3, 1, "jihe/b.png")
                .addImg(1, 3, "jihe/c.png")
                .addImg(3, 2, "jihe/e.png")
                .addImg(2, 3, "jihe/f.png")
                .addImg(2, 2, "jihe/g.png")
                .addImg(3, 4, "jihe/h.png")
                .setBgStyle(QrCodeOptions.BgImgStyle.PENETRATE)
                .setBgOpacity(1.0f)
                .setBgImg(bg)
                .setBgStartX(10)
                .setBgStartY(100)
                .asBufferedImage();

     ImageIO.write(img, "png", new File("/tmp/q1.png"));
    } catch (IOException e) {
        e.printStackTrace();
    } catch (WriterException e) {
        e.printStackTrace();
    }
}
```

ä¸Šé¢æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œè¾“å‡ºäºŒç»´ç å¦‚ä¸‹ ï¼ˆä¸Šé¢çš„caseå¯ä»¥åœ¨ [qrcode-plugin test](https://github.com/liuyueyi/quick-media/blob/master/plugins/qrcode-plugin/src/test/java/com/github/hui/quick/plugin/test/QrCodeWrapperTest.java) ä¸‹é¢æ‰¾åˆ°ï¼Œç´ æä¹Ÿä¸€å¹¶æ‰“åŒ…è¿›å»äº†ï¼‰

![image](https://user-images.githubusercontent.com/5125892/59763294-dae57d00-92cb-11e9-921c-2e44817cfee5.png)


**äºŒç»´ç è§£æ**

äºŒç»´ç è§£ææ”¯æŒé’ˆå¯¹æœ¬åœ°/ç½‘ç»œä¸­çš„äºŒç»´ç è¿›è¡Œè§£ç ï¼Œä¸‹é¢æ˜¯æ ‡å‡†çš„ä½¿ç”¨å§¿åŠ¿

```java
@Test
public void testDepaseQrCode() throws FormatException, ChecksumException, NotFoundException, IOException {
    String img = "https://static.oschina.net/uploads/img/201707/09205944_0PzS.jpg";

    String ans = QrCodeDeWrapper.decode(img);
    System.out.println(ans);
}
```

è¾“å‡ºç»“æœä¸º

```bash
http://weixin.qq.com/r/FS9waAPEg178rUcL93oH
```


### b. markdown-plugin

> ä¸»è¦æä¾›ä¸¤ç§åŠŸèƒ½ï¼Œ markdownè½¬htmlï¼Œ htmlæ¸²æŸ“è¾“å‡ºå›¾ç‰‡

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>markdown-plugin</artifactId>
    <version>1.3</version>
</dependency>
```

**markdownè½¬å›¾ç‰‡**

ç„¶åå¼€å§‹ä½¿ç”¨ï¼Œä¸‹é¢æ¼”ç¤ºæ ¹æ®æœ¬åœ°mdæ–‡æ¡£ï¼Œæ¸²æŸ“è¾“å‡ºå›¾ç‰‡ï¼Œç„¶åä¿å­˜åœ¨æœ¬åœ°çš„caseï¼Œï¼ˆå¯ä»¥ç›´æ¥æŸ¥çœ‹testä¸‹é¢çš„ `Md2ImgTest`ï¼Œç„¶åæ‰§è¡Œæœ¬åœ°æµ‹è¯•ï¼‰

```java
@Test
public void testMd2Img() throws Exception {
    MarkdownEntity entity = MarkDown2HtmlWrapper.ofFile("md/test.md");
    BufferedImage bf = Html2ImageWrapper.ofMd(entity)
            .setW(800)
            .setAutoW(false)
            .setAutoH(true)
            .setOutType("jpg")
            .build()
            .asImage();
    ImageIO.write(bf, "jpg", new File("test_out.jpg"));
    System.out.println("---over---");
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œæœ‰ç‚¹é•¿ï¼Œå°±ä¸ä½¿ç”¨å›¾ç‰‡æ–¹å¼æ”¾è¿™ï¼Œç‚¹å‡»ä¸‹é¢é“¾æ¥æŸ¥çœ‹æ¸²æŸ“å›¾

[è¾“å‡ºç»“æœï¼Œç‚¹å‡»æŸ¥åŸå›¾](https://raw.githubusercontent.com/liuyueyi/quick-media/master/plugins/markdown-plugin/md_out.jpg)


**htmlè½¬å›¾ç‰‡**

html å­—ç¬¦ä¸²æ¸²æŸ“

```java
@Test
public void testHtmp2Img() throws Exception {
    String html = "<html>\n" + "<body>\n" + "\n" + "<span> hello world </span>\n" + "<hr/>\n" +
            "<button> æŒ‰é’® </button>\n" + "\n" + "</body>\n" + "</html>";
    BufferedImage img =
            Html2ImageWrapper.of(html).setAutoW(false).setAutoH(true).setOutType("jpg").build().asImage();
    System.out.println(img);
}
```

é’ˆå¯¹æ•´ä¸ªhtmlæ–‡ä»¶è¿›è¡Œæ¸²æŸ“ï¼Œcssä¹Ÿå†™åœ¨htmlä¸­

```java
/**
 * å®Œæ•´çš„htmlæ–‡æ¡£, å¸Œæœ›ç›´æ¥è¿›è¡Œæ¸²æŸ“è¾“å‡ºå›¾ç‰‡ï¼Œä½¿ç”¨ ofDoc æ–¹å¼
 *
 * @throws Exception
 */
@Test
public void testFullHtml() throws Exception {
    String html = FileReadUtil.readAll("html/full.html");
    BufferedImage img = Html2ImageWrapper.ofDoc(html).setOutType("jpg").build().asImage();
    System.out.println(img);
}
```

htmlå’Œcssæ–‡ä»¶éš”ç¦»çš„æƒ…å†µ

```java
/**
 * css æ–‡ä»¶å’Œhtmlæ–‡ä»¶åˆ†å¼€çš„æƒ…å†µ
 *
 * @throws Exception
 */
@Test
public void testParseHtml2Img() throws Exception {
    String html = FileReadUtil.readAll("html/demo.html");

    String MD_CSS = FileReadUtil.readAll("html/demo.css");
    MD_CSS = "<style type=\"text/css\">\n" + MD_CSS + "\n</style>\n";

    BufferedImage img =
            Html2ImageWrapper.of(html).setCss(MD_CSS).setAutoW(false).setAutoH(false).setOutType("jpg").build()
                    .asImage();
    System.out.println(img);
}
```

### c. svg-plugin

> ç›´æ¥é’ˆå¯¹svgä»£ç å—è¿›è¡Œæ¸²æŸ“ï¼Œè¾“å‡ºå›¾ç‰‡ï¼Œå¯¹äºåç«¯è€Œè¨€ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œéº»çƒ¦çš„ç‚¹åœ¨å†™svg ï¼ˆğŸ˜‚ğŸ˜‚ğŸ˜‚)

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>svg-plugin</artifactId>
    <version>1.1</version>
</dependency>
```

**ä½¿ç”¨case**

ä¸‹é¢çš„å®ä¾‹caseï¼Œå¯ä»¥åœ¨æºç  svg-core é¡¹ç›®çš„æµ‹è¯•ä¸­æŸ¥çœ‹

```java
@Test
public void testFixPngImg() {
        try {
            BufferedImage img = SvgRenderWrapper.convertToJpegAsImg("card.svg", new HashMap<>());
            System.out.println("---");
        } catch (Exception e) {
            e.printStackTrace();
        }
}
```

æ¯”å¦‚ä¸‹å›¾å°±æ˜¯é€šè¿‡svgæ¸²æŸ“å¾—åˆ°çš„

![card](https://gitee.com/liuyueyi/Source/raw/master/img/info/blogInfoV2.png)

### d. image-plugin

> åŸºäºjdkçš„awtå®ç°å›¾ç‰‡åˆæˆçš„æ’ä»¶ï¼Œå†…éƒ¨æä¾›äº†ä¸€äº›å¸¸è§çš„åŸºæœ¬å•å…ƒï¼Œé€šè¿‡åŸºæœ¬å•å…ƒå¯ä»¥æ‹¼æ¥å‡ºä½ æƒ³è¦çš„å›¾ç‰‡

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>image-plugin</artifactId>
    <version>1.0</version>
</dependency>
```

**ä½¿ç”¨case**

è¿™ä¸ªæ’ä»¶æä¾›äº†å¾ˆå¤šæœ‰æ„æ€çš„åŠŸèƒ½ï¼Œç®€å•çš„å›¾æ–‡åˆæˆï¼ŒgifåŠ¨å›¾ç”Ÿæˆï¼Œæ‰“å­—æœºæ•ˆæœï¼Œæ°´å°ï¼Œè¡¨æƒ…åŒ…ç”Ÿæˆç­‰ï¼Œè¿™é‡Œæ¼”ç¤ºä¸€ä¸ªå…¥é—¨çº§åˆ«çš„ä½¿ç”¨case


```java
@Test
public void testTemplate() throws IOException {
    BufferedImage logo = ImageLoadUtil.getImageByPath("logo.jpg");
    BufferedImage qrCode = ImageLoadUtil.getImageByPath("QrCode.jpg");
    String name = "å°ç°ç°Blog";
    List<String> desc = Arrays.asList("æˆ‘æ˜¯ä¸€ç°ç°ï¼Œä¸€åŒ¹ä¸åƒç¾Šçš„ç‹¼", "ä¸“æ³¨ç å†œæŠ€æœ¯åˆ†äº«");

    int w = QrCodeCardTemplate.w, h = QrCodeCardTemplate.h;
    List<IMergeCell> list = QrCodeCardTemplateBuilder.build(logo, name, desc, qrCode, "å¾® ä¿¡ å…¬ ä¼— å·");

    BufferedImage bg = ImgMergeWrapper.merge(list, w, h);

    try {
        ImageIO.write(bg, "jpg", new File("/Users/yihui/Desktop/merge.jpg"));
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹

![img](https://raw.githubusercontent.com/liuyueyi/quick-media/master/doc/img/qrcode/wxBlog.jpg)


### e. imagic-plugin

> å€ŸåŠ©imagemagicå®ç°å›¾ç‰‡çš„åŸºæœ¬ç¼–è¾‘ï¼ŒåŒ…æ‹¬è£å‰ªï¼Œç¼©æ”¾ï¼Œæ‹‰ä¼¸ï¼Œè½¬ç ï¼Œåè½¬ï¼Œé•œåƒï¼Œè¾¹æ¡†ç­‰

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>imagic-plugin</artifactId>
    <version>1.1</version>
</dependency>
```

**å…¥é—¨å®ä¾‹**

æ”¯æŒé’ˆå¯¹æœ¬åœ°å›¾ç‰‡ã€è¿œç¨‹å›¾ç‰‡ã€äºŒè¿›åˆ¶æµå›¾ç‰‡çš„ç¼–è¾‘å¤„ç†ï¼Œå°†å¤„ç†åçš„å›¾ç‰‡å¯ä»¥ä¿å­˜ä¸ºæ–‡ä»¶ã€byteæ•°ç»„ã€BufferedImageã€Streamç­‰å¤šç§æ–¹å¼ï¼Œé€‚ç”¨äºå„ç§ä½¿ç”¨åœºæ™¯

ä½¿ç”¨case: è¯¦ç»†ä½¿ç”¨å¯ä»¥å‚è€ƒ: [ImgWrapperTest](https://github.com/liuyueyi/quick-media/blob/master/plugins/imagic-plugin/src/test/java/com/github/hui/quick/plugin/test/ImgWrapperTest.java)

```java
private static final String localFile = "blogInfoV2.png";
/**
 * å¤åˆæ“ä½œ
 */
@Test
public void testOperate() {
    BufferedImage img;
    try {
        img = ImgWrapper.of(localFile)
                .board(10, 10, "red")
                .flip()
                .rotate(180)
                .crop(0, 0, 1200, 500)
                .asImg();
        System.out.println("--- " + img);
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

### f. audio-plugin

> éŸ³é¢‘è½¬ç æ’ä»¶

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>audio-plugin</artifactId>
    <version>1.1</version>
</dependency>
```

**ä½¿ç”¨**

ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼ŒæŒ‡å®šè¾“å…¥è¾“å‡ºæ ¼å¼å³å¯å®ç°éŸ³é¢‘è½¬ç 

```java
@Test
public void testAudioParse() {
    String[] arys = new String[]{
            "test.amr",
            "http://s11.mogucdn.com/mlcdn/c45406/170713_3g25ec8fak8jch5349jd2dcafh61c.amr"
    };

    for (String src : arys) {
        try {
            String output = AudioWrapper.of(src)
                    .setInputType("amr")
                    .setOutputType("mp3")
                    .asFile();
            System.out.println(output);
            log.info("the parse audio abs path: {}", output);
        } catch (Exception e) {
            e.printStackTrace();
            log.error("parse audio error! e: {}", e);
        }
    }
}
```

### g. date-plugin
> ç”Ÿè¾°å…«å­—è½¬æ¢æ’ä»¶

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>date-plugin</artifactId>
    <version>1.1</version>
</dependency>
```

**ä½¿ç”¨**

å°†å½“å‰æ—¶é—´ï¼Œè½¬æ¢ä¸ºè€é»„å†è®°å½•

```java
@Test
public void testDate2Lunar() {
    LocalDateTime now  = LocalDateTime.now();
    System.out.println(now + ">>>" + ChineseDateExtendTool.getNowLunarDate());
}
```

è¾“å‡ºç»“æœ

```bash
2019-06-19T20:29:23.850>>>å·±äº¥å¹´ä¼æœˆå£¹æŸ’ æˆŒæ—¶
```

### h. phantom-plugin

> å€ŸåŠ©phantomå®ç°htmlæ¸²æŸ“

**ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.hui.media</groupId>
    <artifactId>phantom-plugin</artifactId>
    <version>1.1</version>
</dependency>
```

**ä½¿ç”¨å§¿åŠ¿**


ç›´æ¥æ¸²æŸ“ç›®æ ‡ç½‘å€å³å¯

```java
@Test
public void testRender() throws IOException {
    try {
        String url = "https://my.oschina.net/u/566591/blog/1580020";
        long start = System.currentTimeMillis();
        BufferedImage img = Html2ImageByJsWrapper.renderHtml2Image(url);   
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

## 1.3 å°ç»“

åˆ°æ­¤ï¼Œå‡ ä¸ªä¸»è¦çš„æ’ä»¶çš„å…¥é—¨çº§åˆ«ä½¿ç”¨åº”è¯¥æ²¡å•¥å¤§é—®é¢˜äº†ï¼Œè™½ç„¶ç¯‡å¹…çœ‹ç€å¾ˆé•¿ï¼Œä½†æ˜¯è¿‡ä¸‹æ¥ï¼Œè¦ä¸äº†å¤šä¹…ï¼›å¯¹äºæ›´ä¸°å¯Œçš„ä½¿ç”¨å§¿åŠ¿ï¼Œçœ‹åé¢çš„è¯¦æƒ…ï¼›æ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥äº”åˆ†é’Ÿå¼€å‘æ•™ç¨‹


